{% extends "base.html" %}
{% load static %}
{% load staticfiles %}

{% block content %}
    <div>
        <div class="uk-light">
            <h2>Explore Paris</h2>

            <h3>Categories</h3>
        </div>
        <div class="uk-child-width-1-4@m uk-grid-small uk-grid-match" uk-grid>
            {% for category in categories %}
                <div>
                    <div class="uk-card uk-card-default uk-grid-collapse uk-child-width-1-2@s uk-margin" uk-grid>
                        <div class="uk-card-media-left uk-cover-container">
                            <img src="{{ category.image }}" alt="" uk-cover>
                        </div>
                        <div>
                            <h4 class="uk-card-title uk-padding-small">{{ category.name }}</h4>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div uk-grid>

            <div class="uk-width-1-2 uk-light">
                <h3>Places</h3>

                {% for place in places %}
                    <a href="/place_info/{{ place.id }}">
                        <div class="uk-card uk-card-default uk-grid-collapse uk-child-width-1-2@s uk-margin" uk-grid>
                            <div class="uk-card-media-left uk-cover-container">
                                <img src="{{ place.get_first_image }}" alt="" uk-cover>
                            </div>
                            <div>
                                <div class="uk-card-body">
                                    <h3 class="uk-card-title">{{ place.name }}</h3>
                                    <span class="uk-label uk-label-warning">{{ place.category }}</span>

                                    <p>{{ place.description|slice:":100" }}...</p>
                                </div>
                            </div>
                        </div>
                    </a>
                {% endfor %}

            </div>
            <div class="uk-width-1-2">
                <div class="uk-inline uk-dark">
                    <img src="{% static "images/map.jpg" %}">
                    {% for place in places %}
                        {% if place.get_x and place.get_y %}
                            <a class="uk-position-absolute uk-transform-center place-on-map uk-icon uk-icon-image" id="place-{{ place.id }}"
                               style="left: {{ place.get_x }}%; top: {{ place.get_y }}%; background-image: url({% static "images/placeholder.png" %}); width: 7px;"
                               href="/place_info/{{ place.id }}"
                               uk-tooltip="{{ place.name }}"></a>
                        {% endif %}
                    {% endfor %}
                </div>

                <div class=" uk-width-1-2 uk-margin-auto">
                    <form>
                        <fieldset class="uk-fieldset">

                            <legend class="uk-legend">Search for a place</legend>

                            <div class="uk-margin">
                                <input class="uk-input" type="text" placeholder="Name">
                            </div>

                            <div class="uk-margin">
                                <select class="uk-select">
                                    {% for category in categories %}
                                        <option>{{ category }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="uk-margin">
                                <select class="uk-select">
                                    <option>Working hour</option>
                                </select>
                            </div>

                            <div class="uk-margin">
                                <select class="uk-select">
                                    <option>Price</option>
                                </select>
                            </div>

                        </fieldset>
                    </form>
                </div>
            </div>

        </div>


    </div>
{% endblock content %}